!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t:e.fluidvids=t()}(this,function(){function e(e){return(new RegExp("^(https?:)?//(?:"+i.players.join("|")+").*$","i")).test(e)}function t(e,t){return parseInt(e,10)/parseInt(t,10)*100+"%"}function n(n){if((e(n.src)||e(n.data))&&!n.getAttribute("data-fluidvids")){var r=document.createElement("div");n.parentNode.insertBefore(r,n),n.className+=(n.className?" ":"")+"fluidvids-item",n.setAttribute("data-fluidvids","loaded"),r.className+="fluidvids",r.style.paddingTop=t(n.height,n.width),r.appendChild(n)}}function r(){var e=document.createElement("div");e.innerHTML="<p>x</p><style>"+s+"</style>",o.appendChild(e.childNodes[1])}var i={selector:["iframe","object"],players:["www.youtube.com","player.vimeo.com"]},s=[".fluidvids {","width: 100%; max-width: 100%; position: relative;","}",".fluidvids-item {","position: absolute; top: 0px; left: 0px; width: 100%; height: 100%;","}"].join(""),o=document.head||document.getElementsByTagName("head")[0];return i.render=function(){for(var e=document.querySelectorAll(i.selector.join()),t=e.length;t--;)n(e[t])},i.init=function(e){for(var t in e)i[t]=e[t];i.render(),r()},i});